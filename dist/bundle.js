!function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=18)}([function(t,r,e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.fallback=function(t,r){return void 0!==t?t:r},r.fbm_noise=function(t,r,e,n){for(var i=0,s=0,o=0;o<r.length;o++){var a=1<<o;i+=r[o]*t.noise2D(e*a,n*a,o),s+=r[o]}return i/s},r.clamp=function(t,r,e){return t<r?r:t>e?e:t},r.mix=function(t,r,e){return t*(1-e)+r*e},r.mixp=function(t,e,n,i){t.length=e.length;for(var s=0;s<e.length;s++)t[s]=r.mix(e[s],n[s],i);return t},r.smoothstep=function(t,r,e){return e<=t?0:e>=r?1:(3-2*(e=(e-t)/(r-t)))*e*e},r.circumcenter=function(t,r,e){var n=t[0]*t[0]+t[1]*t[1],i=r[0]*r[0]+r[1]*r[1],s=e[0]*e[0]+e[1]*e[1],o=2*(t[0]*(r[1]-e[1])+r[0]*(e[1]-t[1])+e[0]*(t[1]-r[1]));return[1/o*(n*(r[1]-e[1])+i*(e[1]-t[1])+s*(t[1]-r[1])),1/o*(n*(e[0]-r[0])+i*(t[0]-e[0])+s*(r[0]-t[0]))]},r.lineIntersection=function(t,r,e,n,i,s,o,a){return{ua:((o-i)*(r-s)-(a-s)*(t-i))/((a-s)*(e-t)-(o-i)*(n-r)),ub:((e-t)*(r-s)-(n-r)*(t-i))/((a-s)*(e-t)-(o-i)*(n-r))}},r.randomShuffle=function(t,r){for(var e=t.length-1;e>0;e--){var n=r(e+1),i=t[e];t[e]=t[n],t[n]=i}return t};r.makeRandInt=function(t){var r=0;return function(e){return i=t+ ++r,(s=void 0===("undefined"==typeof Uint32Array?"undefined":n(Uint32Array))?[0]:new Uint32Array(1))[0]=0|i,s[0]-=s[0]<<6,s[0]^=s[0]>>>17,s[0]-=s[0]<<9,s[0]^=s[0]<<4,s[0]-=s[0]<<3,s[0]^=s[0]<<10,s[0]^=s[0]>>>15,s[0]%e;var i,s}},r.makeRandFloat=function(t){var e=r.makeRandInt(t);return function(){return e(268435456)/268435456}}},function(t,r,e){var n;!function(){"use strict";var i=.5*(Math.sqrt(3)-1),s=(3-Math.sqrt(3))/6,o=1/6,a=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;function h(t){var r;r="function"==typeof t?t:t?function(){var t=0,r=0,e=0,n=1,i=(s=4022871197,function(t){t=t.toString();for(var r=0;r<t.length;r++){var e=.02519603282416938*(s+=t.charCodeAt(r));e-=s=e>>>0,s=(e*=s)>>>0,s+=4294967296*(e-=s)}return 2.3283064365386963e-10*(s>>>0)});var s;t=i(" "),r=i(" "),e=i(" ");for(var o=0;o<arguments.length;o++)(t-=i(arguments[o]))<0&&(t+=1),(r-=i(arguments[o]))<0&&(r+=1),(e-=i(arguments[o]))<0&&(e+=1);return i=null,function(){var i=2091639*t+2.3283064365386963e-10*n;return t=r,r=e,e=i-(n=0|i)}}(t):Math.random,this.p=l(r),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var e=0;e<512;e++)this.perm[e]=this.p[255&e],this.permMod12[e]=this.perm[e]%12}function l(t){var r,e=new Uint8Array(256);for(r=0;r<256;r++)e[r]=r;for(r=0;r<255;r++){var n=r+~~(t()*(256-r)),i=e[r];e[r]=e[n],e[n]=i}return e}h.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,r){var e,n,o=this.permMod12,a=this.perm,u=this.grad3,h=0,l=0,f=0,_=(t+r)*i,c=Math.floor(t+_),p=Math.floor(r+_),d=(c+p)*s,v=t-(c-d),g=r-(p-d);v>g?(e=1,n=0):(e=0,n=1);var m=v-e+s,y=g-n+s,b=v-1+2*s,w=g-1+2*s,x=255&c,A=255&p,S=.5-v*v-g*g;if(S>=0){var M=3*o[x+a[A]];h=(S*=S)*S*(u[M]*v+u[M+1]*g)}var R=.5-m*m-y*y;if(R>=0){var E=3*o[x+e+a[A+n]];l=(R*=R)*R*(u[E]*m+u[E+1]*y)}var j=.5-b*b-w*w;if(j>=0){var T=3*o[x+1+a[A+1]];f=(j*=j)*j*(u[T]*b+u[T+1]*w)}return 70*(h+l+f)},noise3D:function(t,r,e){var n,i,s,a,u,h,l,f,_,c,p=this.permMod12,d=this.perm,v=this.grad3,g=(t+r+e)*(1/3),m=Math.floor(t+g),y=Math.floor(r+g),b=Math.floor(e+g),w=(m+y+b)*o,x=t-(m-w),A=r-(y-w),S=e-(b-w);x>=A?A>=S?(u=1,h=0,l=0,f=1,_=1,c=0):x>=S?(u=1,h=0,l=0,f=1,_=0,c=1):(u=0,h=0,l=1,f=1,_=0,c=1):A<S?(u=0,h=0,l=1,f=0,_=1,c=1):x<S?(u=0,h=1,l=0,f=0,_=1,c=1):(u=0,h=1,l=0,f=1,_=1,c=0);var M=x-u+o,R=A-h+o,E=S-l+o,j=x-f+2*o,T=A-_+2*o,P=S-c+2*o,I=x-1+.5,k=A-1+.5,O=S-1+.5,D=255&m,L=255&y,z=255&b,F=.6-x*x-A*A-S*S;if(F<0)n=0;else{var U=3*p[D+d[L+d[z]]];n=(F*=F)*F*(v[U]*x+v[U+1]*A+v[U+2]*S)}var N=.6-M*M-R*R-E*E;if(N<0)i=0;else{var B=3*p[D+u+d[L+h+d[z+l]]];i=(N*=N)*N*(v[B]*M+v[B+1]*R+v[B+2]*E)}var C=.6-j*j-T*T-P*P;if(C<0)s=0;else{var q=3*p[D+f+d[L+_+d[z+c]]];s=(C*=C)*C*(v[q]*j+v[q+1]*T+v[q+2]*P)}var $=.6-I*I-k*k-O*O;if($<0)a=0;else{var G=3*p[D+1+d[L+1+d[z+1]]];a=($*=$)*$*(v[G]*I+v[G+1]*k+v[G+2]*O)}return 32*(n+i+s+a)},noise4D:function(t,r,e,n){var i,s,o,h,l,f,_,c,p,d,v,g,m,y,b,w,x,A=this.perm,S=this.grad4,M=(t+r+e+n)*a,R=Math.floor(t+M),E=Math.floor(r+M),j=Math.floor(e+M),T=Math.floor(n+M),P=(R+E+j+T)*u,I=t-(R-P),k=r-(E-P),O=e-(j-P),D=n-(T-P),L=0,z=0,F=0,U=0;I>k?L++:z++,I>O?L++:F++,I>D?L++:U++,k>O?z++:F++,k>D?z++:U++,O>D?F++:U++;var N=I-(f=L>=3?1:0)+u,B=k-(_=z>=3?1:0)+u,C=O-(c=F>=3?1:0)+u,q=D-(p=U>=3?1:0)+u,$=I-(d=L>=2?1:0)+2*u,G=k-(v=z>=2?1:0)+2*u,H=O-(g=F>=2?1:0)+2*u,K=D-(m=U>=2?1:0)+2*u,W=I-(y=L>=1?1:0)+3*u,V=k-(b=z>=1?1:0)+3*u,J=O-(w=F>=1?1:0)+3*u,Q=D-(x=U>=1?1:0)+3*u,X=I-1+4*u,Y=k-1+4*u,Z=O-1+4*u,tt=D-1+4*u,rt=255&R,et=255&E,nt=255&j,it=255&T,st=.6-I*I-k*k-O*O-D*D;if(st<0)i=0;else{var ot=A[rt+A[et+A[nt+A[it]]]]%32*4;i=(st*=st)*st*(S[ot]*I+S[ot+1]*k+S[ot+2]*O+S[ot+3]*D)}var at=.6-N*N-B*B-C*C-q*q;if(at<0)s=0;else{var ut=A[rt+f+A[et+_+A[nt+c+A[it+p]]]]%32*4;s=(at*=at)*at*(S[ut]*N+S[ut+1]*B+S[ut+2]*C+S[ut+3]*q)}var ht=.6-$*$-G*G-H*H-K*K;if(ht<0)o=0;else{var lt=A[rt+d+A[et+v+A[nt+g+A[it+m]]]]%32*4;o=(ht*=ht)*ht*(S[lt]*$+S[lt+1]*G+S[lt+2]*H+S[lt+3]*K)}var ft=.6-W*W-V*V-J*J-Q*Q;if(ft<0)h=0;else{var _t=A[rt+y+A[et+b+A[nt+w+A[it+x]]]]%32*4;h=(ft*=ft)*ft*(S[_t]*W+S[_t+1]*V+S[_t+2]*J+S[_t+3]*Q)}var ct=.6-X*X-Y*Y-Z*Z-tt*tt;if(ct<0)l=0;else{var pt=A[rt+1+A[et+1+A[nt+1+A[it+1]]]]%32*4;l=(ct*=ct)*ct*(S[pt]*X+S[pt+1]*Y+S[pt+2]*Z+S[pt+3]*tt)}return 27*(i+s+o+h+l)}},h._buildPermutationTable=l,void 0===(n=function(){return h}.call(r,e,r,t))||(t.exports=n),r.SimplexNoise=h,t.exports=h}()},function(t,r,e){"use strict";function n(t,r,e){r||(r=f),e||(e=_);for(var n=1/0,c=1/0,p=-1/0,d=-1/0,v=this.coords=[],g=this.ids=new Uint32Array(t.length),m=0;m<t.length;m++){var y=t[m],b=r(y),w=e(y);g[m]=m,v[2*m]=b,v[2*m+1]=w,b<n&&(n=b),w<c&&(c=w),b>p&&(p=b),w>d&&(d=w)}var x,A,S,M=(n+p)/2,R=(c+d)/2,E=1/0;for(m=0;m<t.length;m++){var j=i(M,R,v[2*m],v[2*m+1]);j<E&&(x=m,E=j)}for(E=1/0,m=0;m<t.length;m++)m!==x&&(j=i(v[2*x],v[2*x+1],v[2*m],v[2*m+1]))<E&&j>0&&(A=m,E=j);var T=1/0;for(m=0;m<t.length;m++)if(m!==x&&m!==A){var P=o(v[2*x],v[2*x+1],v[2*A],v[2*A+1],v[2*m],v[2*m+1]);P<T&&(S=m,T=P)}if(T===1/0)throw new Error("No Delaunay triangulation exists for this input.");if(s(v[2*x],v[2*x+1],v[2*A],v[2*A+1],v[2*S],v[2*S+1])<0){var I=A;A=S,S=I}var k=v[2*x],O=v[2*x+1],D=v[2*A],L=v[2*A+1],z=v[2*S],F=v[2*S+1],U=function(t,r,e,n,i,s){var o=(e-=t)*e+(n-=r)*n,a=(i-=t)*i+(s-=r)*s,u=e*s-n*i;return{x:t+.5*(s*o-n*a)/u,y:r+.5*(e*a-i*o)/u}}(k,O,D,L,z,F);for(this._cx=U.x,this._cy=U.y,function t(r,e,n,i,s,o){var a,u,f;if(i-n<=20)for(a=n+1;a<=i;a++){for(f=r[a],u=a-1;u>=n&&h(e,r[u],f,s,o)>0;)r[u+1]=r[u--];r[u+1]=f}else{var _=n+i>>1;for(u=i,l(r,_,a=n+1),h(e,r[n],r[i],s,o)>0&&l(r,n,i),h(e,r[a],r[i],s,o)>0&&l(r,a,i),h(e,r[n],r[a],s,o)>0&&l(r,n,a),f=r[a];;){do{a++}while(h(e,r[a],f,s,o)<0);do{u--}while(h(e,r[u],f,s,o)>0);if(u<a)break;l(r,a,u)}r[n+1]=r[u],r[u]=f,i-a+1>=u-n?(t(r,e,a,i,s,o),t(r,e,n,u-1,s,o)):(t(r,e,n,u-1,s,o),t(r,e,a,i,s,o))}}(g,v,0,g.length-1,U.x,U.y),this._hashSize=Math.ceil(Math.sqrt(t.length)),this._hash=[],m=0;m<this._hashSize;m++)this._hash[m]=null;var N=this.hull=a(v,x);this._hashEdge(N),N.t=0,N=a(v,A,N),this._hashEdge(N),N.t=1,N=a(v,S,N),this._hashEdge(N),N.t=2;var B,C,q=2*t.length-5,$=this.triangles=new Uint32Array(3*q),G=this.halfedges=new Int32Array(3*q);this.trianglesLen=0,this._addTriangle(x,A,S,-1,-1,-1);for(var H=0;H<g.length;H++)if(b=v[2*(m=g[H])],w=v[2*m+1],!(b===B&&w===C||(B=b,C=w,b===k&&w===O||b===D&&w===L||b===z&&w===F))){var K,W=this._hashKey(b,w),V=W;do{K=this._hash[V],V=(V+1)%this._hashSize}while((!K||K.removed)&&V!==W);for(N=K;s(b,w,N.x,N.y,N.next.x,N.next.y)>=0;)if((N=N.next)===K)throw new Error("Something is wrong with the input points.");var J=N===K,Q=this._addTriangle(N.i,m,N.next.i,-1,-1,N.t);N.t=Q,(N=a(v,m,N)).t=this._legalize(Q+2),N.prev.prev.t===G[Q+1]&&(N.prev.prev.t=Q+2);for(var X=N.next;s(b,w,X.x,X.y,X.next.x,X.next.y)<0;)Q=this._addTriangle(X.i,m,X.next.i,X.prev.t,-1,X.t),X.prev.t=this._legalize(Q+2),this.hull=u(X),X=X.next;if(J)for(X=N.prev;s(b,w,X.prev.x,X.prev.y,X.x,X.y)<0;)Q=this._addTriangle(X.prev.i,m,X.i,-1,X.t,X.prev.t),this._legalize(Q+2),X.prev.t=Q,this.hull=u(X),X=X.prev;this._hashEdge(N),this._hashEdge(N.prev)}this.triangles=$.subarray(0,this.trianglesLen),this.halfedges=G.subarray(0,this.trianglesLen)}function i(t,r,e,n){var i=t-e,s=r-n;return i*i+s*s}function s(t,r,e,n,i,s){return(n-r)*(i-e)-(e-t)*(s-n)}function o(t,r,e,n,i,s){var o=(e-=t)*e+(n-=r)*n,a=(i-=t)*i+(s-=r)*s;if(0===o||0===a)return 1/0;var u=e*s-n*i;if(0===u)return 1/0;var h=.5*(s*o-n*a)/u,l=.5*(e*a-i*o)/u;return h*h+l*l}function a(t,r,e){var n={i:r,x:t[2*r],y:t[2*r+1],t:0,prev:null,next:null,removed:!1};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function u(t){return t.prev.next=t.next,t.next.prev=t.prev,t.removed=!0,t.prev}function h(t,r,e,n,s){return i(t[2*r],t[2*r+1],n,s)-i(t[2*e],t[2*e+1],n,s)||t[2*r]-t[2*e]||t[2*r+1]-t[2*e+1]}function l(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function f(t){return t[0]}function _(t){return t[1]}t.exports=n,t.exports.default=n,n.prototype={_hashEdge:function(t){this._hash[this._hashKey(t.x,t.y)]=t},_hashKey:function(t,r){var e=t-this._cx,n=r-this._cy,i=1-e/(Math.abs(e)+Math.abs(n));return Math.floor((2+(n<0?-i:i))/4*this._hashSize)},_legalize:function(t){var r,e,n,i,s,o,a,u,h,l,f=this.triangles,_=this.coords,c=this.halfedges,p=c[t],d=t-t%3,v=p-p%3,g=d+(t+1)%3,m=d+(t+2)%3,y=v+(p+2)%3,b=f[m],w=f[t],x=f[g],A=f[y];if(r=_[2*b],e=_[2*b+1],n=_[2*w],i=_[2*w+1],s=_[2*x],o=_[2*x+1],a=_[2*A],u=_[2*A+1],h=(n-=a)*n+(i-=u)*i,l=(s-=a)*s+(o-=u)*o,(r-=a)*(i*l-h*o)-(e-=u)*(n*l-h*s)+(r*r+e*e)*(n*o-i*s)<0){f[t]=A,f[p]=b,this._link(t,c[y]),this._link(p,c[m]),this._link(m,y);var S=v+(p+1)%3;return this._legalize(t),this._legalize(S)}return m},_link:function(t,r){this.halfedges[t]=r,-1!==r&&(this.halfedges[r]=t)},_addTriangle:function(t,r,e,n,i,s){var o=this.trianglesLen;return this.triangles[o]=t,this.triangles[o+1]=r,this.triangles[o+2]=e,this._link(o,n),this._link(o+1,i),this._link(o+2,s),this.trianglesLen+=3,o}}},function(t,r,e){"use strict";t.exports=function(t,r){var e,n,i,s,o,a=new Array(t),u=Math.floor(t/2)<<1,h=0;for(o=0;o<u;o+=2)e=-2*Math.log(r()),n=Math.sqrt(e),i=2*Math.PI*r(),h+=e,a[o]=n*Math.cos(i),a[o+1]=n*Math.sin(i);if(t%2){var l=Math.sqrt(-2*Math.log(r()))*Math.cos(2*Math.PI*r());a[t-1]=l,h+=Math.pow(l,2)}for(s=1/Math.sqrt(h),o=0;o<t;++o)a[o]*=s;return a}},function(t,r){t.exports=function(t,r){t=t||1,r=r||2;for(var e=2*t+1,n=Math.pow(e,r)-1,i=new Array(n),s=0;s<n;s++)for(var o=i[s]=new Array(r),a=s<n/2?s:s+1,u=1;u<=r;u++){var h=a%Math.pow(e,u);o[u-1]=h/Math.pow(e,u-1)-t,a-=h}return i}},function(t,r){function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,r,e){"use strict";t.exports=function(t){for(var r=new Array(t),e=0;e<t;++e)r[e]=e;return r}},function(t,r,e){var n=e(6),i=e(5),s="undefined"!=typeof Float64Array;function o(t,r){return t[0]-r[0]}function a(){var t,r=this.stride,e=new Array(r.length);for(t=0;t<e.length;++t)e[t]=[Math.abs(r[t]),t];e.sort(o);var n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=e[t][1];return n}function u(t,r){var e=["View",r,"d",t].join("");r<0&&(e="View_Nil"+t);var i="generic"===t;if(-1===r){var s="function "+e+"(a){this.data=a;};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+e+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+e+"(a){return new "+e+"(a);}";return new Function(s)()}if(0===r){s="function "+e+"(a,d) {this.data = a;this.offset = d};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+e+"_copy() {return new "+e+"(this.data,this.offset)};proto.pick=function "+e+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+e+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+e+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+e+"(a,b,c,d){return new "+e+"(a,d)}";return new Function("TrivialArray",s)(h[t][0])}s=["'use strict'"];var o=n(r),u=o.map(function(t){return"i"+t}),l="this.offset+"+o.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),f=o.map(function(t){return"b"+t}).join(","),_=o.map(function(t){return"c"+t}).join(",");s.push("function "+e+"(a,"+f+","+_+",d){this.data=a","this.shape=["+f+"]","this.stride=["+_+"]","this.offset=d|0}","var proto="+e+".prototype","proto.dtype='"+t+"'","proto.dimension="+r),s.push("Object.defineProperty(proto,'size',{get:function "+e+"_size(){return "+o.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===r?s.push("proto.order=[0]"):(s.push("Object.defineProperty(proto,'order',{get:"),r<4?(s.push("function "+e+"_order(){"),2===r?s.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===r&&s.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):s.push("ORDER})")),s.push("proto.set=function "+e+"_set("+u.join(",")+",v){"),i?s.push("return this.data.set("+l+",v)}"):s.push("return this.data["+l+"]=v}"),s.push("proto.get=function "+e+"_get("+u.join(",")+"){"),i?s.push("return this.data.get("+l+")}"):s.push("return this.data["+l+"]}"),s.push("proto.index=function "+e+"_index(",u.join(),"){return "+l+"}"),s.push("proto.hi=function "+e+"_hi("+u.join(",")+"){return new "+e+"(this.data,"+o.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+o.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var c=o.map(function(t){return"a"+t+"=this.shape["+t+"]"}),p=o.map(function(t){return"c"+t+"=this.stride["+t+"]"});s.push("proto.lo=function "+e+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+c.join(",")+","+p.join(","));for(var d=0;d<r;++d)s.push("if(typeof i"+d+"==='number'&&i"+d+">=0){d=i"+d+"|0;b+=c"+d+"*d;a"+d+"-=d}");s.push("return new "+e+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"c"+t}).join(",")+",b)}"),s.push("proto.step=function "+e+"_step("+u.join(",")+"){var "+o.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+o.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(d=0;d<r;++d)s.push("if(typeof i"+d+"==='number'){d=i"+d+"|0;if(d<0){c+=b"+d+"*(a"+d+"-1);a"+d+"=ceil(-a"+d+"/d)}else{a"+d+"=ceil(a"+d+"/d)}b"+d+"*=d}");s.push("return new "+e+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"b"+t}).join(",")+",c)}");var v=new Array(r),g=new Array(r);for(d=0;d<r;++d)v[d]="a[i"+d+"]",g[d]="b[i"+d+"]";s.push("proto.transpose=function "+e+"_transpose("+u+"){"+u.map(function(t,r){return t+"=("+t+"===undefined?"+r+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+e+"(this.data,"+v.join(",")+","+g.join(",")+",this.offset)}"),s.push("proto.pick=function "+e+"_pick("+u+"){var a=[],b=[],c=this.offset");for(d=0;d<r;++d)s.push("if(typeof i"+d+"==='number'&&i"+d+">=0){c=(c+this.stride["+d+"]*i"+d+")|0}else{a.push(this.shape["+d+"]);b.push(this.stride["+d+"])}");return s.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),s.push("return function construct_"+e+"(data,shape,stride,offset){return new "+e+"(data,"+o.map(function(t){return"shape["+t+"]"}).join(",")+","+o.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",s.join("\n"))(h[t],a)}var h={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(t,r,e,n){if(void 0===t)return(0,h.array[0])([]);"number"==typeof t&&(t=[t]),void 0===r&&(r=[t.length]);var o=r.length;if(void 0===e){e=new Array(o);for(var a=o-1,l=1;a>=0;--a)e[a]=l,l*=r[a]}if(void 0===n)for(n=0,a=0;a<o;++a)e[a]<0&&(n-=(r[a]-1)*e[a]);for(var f=function(t){if(i(t))return"buffer";if(s)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}(t),_=h[f];_.length<=o+1;)_.push(u(f,_.length-1));return(0,_[o+1])(t,r,e,n)}},function(t,r,e){"use strict";var n=e(7);t.exports=function(t,r){r=r||"float64";for(var e=1,i=0;i<t.length;++i)e*=t[i];return n(new(function(t){switch(t){case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float":case"float32":return Float32Array;case"double":case"float64":return Float64Array;case"uint8_clamped":return Uint8ClampedArray;case"generic":case"buffer":case"data":case"dataview":return ArrayBuffer;case"array":return Array}}(r))(e),t)}},function(t,r,e){"use strict";var n=e(8),i=e(4),s=e(3),o=function(t,r){for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n]-r[n],2);return e},a=function(t,r,e,s,o){e=e||2*r,this.shape=t,this.dimension=this.shape.length,this.minDistance=r,this.squaredMinDistance=r*r,this.deltaDistance=e-r,this.cellSize=r/Math.sqrt(this.dimension),this.maxTries=s||30,this.rng=o||Math.random,this.neighbourhood=function(t){var r,e=i(2,t),n=[];for(r=0;r<t;r++)n.push(0);return e.push(n),e.sort(function(r,e){for(var n=0,i=0,s=0;s<t;s++)n+=Math.pow(r[s],2),i+=Math.pow(e[s],2);return n<i?-1:n>i?1:0}),e}(this.dimension),this.currentPoint=null,this.processList=[],this.samplePoints=[],this.gridShape=[];for(var a=0;a<this.dimension;a++)this.gridShape.push(Math.ceil(t[a]/this.cellSize));this.grid=n(this.gridShape,"uint32")};a.prototype.shape=null,a.prototype.dimension=null,a.prototype.minDistance=null,a.prototype.squaredMinDistance=null,a.prototype.deltaDistance=null,a.prototype.cellSize=null,a.prototype.maxTries=null,a.prototype.rng=null,a.prototype.neighbourhood=null,a.prototype.currentPoint=null,a.prototype.processList=null,a.prototype.samplePoints=null,a.prototype.gridShape=null,a.prototype.grid=null,a.prototype.addRandomPoint=function(){for(var t=new Array(this.dimension),r=0;r<this.dimension;r++)t[r]=this.rng()*this.shape[r];return this.directAddPoint(t)},a.prototype.addPoint=function(t){var r,e=!0;if(t.length===this.dimension)for(r=0;r<this.dimension&&e;r++)e=t[r]>=0&&t[r]<=this.shape[r];else e=!1;return e?this.directAddPoint(t):null},a.prototype.directAddPoint=function(t){var r,e=0,n=this.grid.stride;for(this.processList.push(t),this.samplePoints.push(t),r=0;r<this.dimension;r++)e+=(t[r]/this.cellSize|0)*n[r];return this.grid.data[e]=this.samplePoints.length,t},a.prototype.inNeighbourhood=function(t){var r,e,n,i,s,a=this.dimension,u=this.grid.stride;for(r=0;r<this.neighbourhood.length;r++){for(e=0,n=0;n<a;n++)(i=(t[n]/this.cellSize|0)+this.neighbourhood[r][n])>=0&&i<this.gridShape[n]&&(e+=i*u[n]);if(0!==this.grid.data[e]&&(s=this.samplePoints[this.grid.data[e]-1],o(t,s)<this.squaredMinDistance))return!0}return!1},a.prototype.next=function(){for(var t,r,e,n,i,o,a;this.processList.length>0;){for(null===this.currentPoint&&(this.currentPoint=this.processList.shift()),n=this.currentPoint,t=0;t<this.maxTries;t++){for(o=!0,e=this.minDistance+this.deltaDistance*this.rng(),2===this.dimension?(r=this.rng()*Math.PI*2,i=[Math.cos(r),Math.sin(r)]):i=s(this.dimension,this.rng),a=0;o&&a<this.dimension;a++)i[a]=n[a]+i[a]*e,o=i[a]>=0&&i[a]<=this.shape[a]-1;if(o&&!this.inNeighbourhood(i))return this.directAddPoint(i)}t===this.maxTries&&(this.currentPoint=null)}return null},a.prototype.fill=function(){for(0===this.samplePoints.length&&this.addRandomPoint();this.next(););return this.samplePoints},a.prototype.getAllPoints=function(){return this.samplePoints},a.prototype.reset=function(){var t=this.grid.data,r=0;for(r=0;r<t.length;r++)t[r]=0;this.samplePoints=[],this.currentPoint=null,this.processList.length=0},t.exports=a},function(t,r,e){"use strict";let n=e(9),i=e(2);function s(t){return t%3==2?t-2:t+1}function o({spacing:t=1/0,points:r=[],random:e=Math.random}){let a=new n([1e3,1e3],t,void 0,void 0,e),u=isFinite(t)?function(t,r){let e=Math.ceil(r/t),n=[];for(let t=0;t<=e;t++){let i=(t+.5)/(e+1),s=r*i,o=Math.pow(i-.5,2);n.push([o,s],[r-o,s]),n.push([s,o],[s,r-o])}return n}(t,1e3):[];u.forEach(t=>a.addPoint(t)),r.forEach(t=>a.addPoint(t));let h=a.fill(),l=new i(h),f={_r_vertex:h,_s_start_r:l.triangles,_s_opposite_s:l.halfedges};return function({_r_vertex:t,_s_start_r:r,_s_opposite_s:e}){let n=new Array(30).fill(0),i=0;for(let e=0;e<r.length;e++){let o=r[e],a=r[s(e)],u=r[s(s(e))],h=t[o],l=t[a],f=t[u],_=[h[0]-l[0],h[1]-l[1]],c=[f[0]-l[0],f[1]-l[1]],p=_[0]*c[0]+_[1]+c[1],d=180/Math.PI*Math.acos(p);d<30&&(n[0|d]++,i++)}o.PRINT_WARNINGS&&i>0&&console.log("  bad angles:",n.join(" "))}(f),(f=function({_r_vertex:t,_s_start_r:r,_s_opposite_s:e}){const n=r.length,i=t.length;let o=0,a=-1,u=[];for(let t=0;t<n;t++)-1===e[t]&&(o++,u[r[t]]=t,a=t);let h=t.concat([[500,500]]),l=new Int32Array(n+3*o);l.set(r);let f=new Int32Array(n+3*o);f.set(e);for(let t=0,r=a;t<o;t++,r=u[l[s(r)]]){let e=n+3*t;f[r]=e,f[e]=r,l[e]=l[s(r)],l[e+1]=l[r],l[e+2]=i;let a=n+(3*t+4)%(3*o);f[e+2]=a,f[a]=e+2}return{numSolidSides:n,_r_vertex:h,_s_start_r:l,_s_opposite_s:f}}(f)).numBoundaryRegions=u.length,function({_r_vertex:t,_s_start_r:r,_s_opposite_s:e}){let n=t.length-1,i=[];for(let t=0;t<r.length;t++){e[e[t]]!==t&&console.log(`FAIL _s_opposite_s[_s_opposite_s[${t}]] !== ${t}`);let o=t,a=0;i.length=0;do{if(a++,i.push(o),o=s(e[o]),a>100&&r[t]!==n){console.log(`FAIL to circulate around region with start side=${t} from region ${r[t]} to ${r[s(t)]}, out_s=${i}`);break}}while(o!==t)}}(f),f}o.PRINT_WARNINGS=!1,t.exports=o},function(t,r,e){"use strict";class n{static s_to_t(t){return t/3|0}static s_prev_s(t){return t%3==0?t+2:t-1}static s_next_s(t){return t%3==2?t-2:t+1}constructor({numBoundaryRegions:t,numSolidSides:r,_r_vertex:e,_s_start_r:n,_s_opposite_s:i}){Object.assign(this,{numBoundaryRegions:t,numSolidSides:r,_r_vertex:e,_s_start_r:n,_s_opposite_s:i}),this.numSides=n.length,this.numRegions=e.length,this.numSolidRegions=this.numRegions-1,this.numTriangles=this.numSides/3,this.numSolidTriangles=this.numSolidSides/3,this._r_any_s=new Int32Array(this.numRegions);for(let t=0;t<n.length;t++)this._r_any_s[n[t]]=this._r_any_s[n[t]]||t;this._t_vertex=new Array(this.numTriangles);for(let t=0;t<n.length;t+=3){let r=e[n[t]],i=e[n[t+1]],s=e[n[t+2]];if(this.s_ghost(t)){let e=i[0]-r[0],n=i[1]-r[1];this._t_vertex[t/3]=[r[0]+.5*(e+n),r[1]+.5*(n-e)]}else this._t_vertex[t/3]=[(r[0]+i[0]+s[0])/3,(r[1]+i[1]+s[1])/3]}}r_x(t){return this._r_vertex[t][0]}r_y(t){return this._r_vertex[t][1]}t_x(t){return this._t_vertex[t][0]}t_y(t){return this._t_vertex[t][1]}r_pos(t,r){return t.length=2,t[0]=this.r_x(r),t[1]=this.r_y(r),t}t_pos(t,r){return t.length=2,t[0]=this.t_x(r),t[1]=this.t_y(r),t}s_begin_r(t){return this._s_start_r[t]}s_end_r(t){return this._s_start_r[n.s_next_s(t)]}s_inner_t(t){return n.s_to_t(t)}s_outer_t(t){return n.s_to_t(this._s_opposite_s[t])}s_next_s(t){return n.s_next_s(t)}s_prev_s(t){return n.s_prev_s(t)}s_opposite_s(t){return this._s_opposite_s[t]}t_circulate_s(t,r){t.length=3;for(let e=0;e<3;e++)t[e]=3*r+e;return t}t_circulate_r(t,r){t.length=3;for(let e=0;e<3;e++)t[e]=this._s_start_r[3*r+e];return t}t_circulate_t(t,r){t.length=3;for(let e=0;e<3;e++)t[e]=this.s_outer_t(3*r+e);return t}r_circulate_s(t,r){const e=this._r_any_s[r];let i=e;t.length=0;do{t.push(i),i=n.s_next_s(this._s_opposite_s[i])}while(i!=e);return t}r_circulate_r(t,r){const e=this._r_any_s[r];let i=e;t.length=0;do{t.push(this.s_end_r(i)),i=n.s_next_s(this._s_opposite_s[i])}while(i!=e);return t}r_circulate_t(t,r){const e=this._r_any_s[r];let i=e;t.length=0;do{t.push(n.s_to_t(i)),i=n.s_next_s(this._s_opposite_s[i])}while(i!=e);return t}ghost_r(){return this.numRegions-1}s_ghost(t){return t>=this.numSolidSides}r_ghost(t){return t==this.numRegions-1}t_ghost(t){return this.s_ghost(3*t)}s_boundary(t){return this.s_ghost(t)&&t%3==0}r_boundary(t){return t<this.numBoundaryRegions}}t.exports=n},function(t,r,e){"use strict";var n=e(0).mixp;r.recursiveSubdivision=function(t,r,e){return function i(s,o,a,u){var h=s[0]-o[0],l=s[1]-o[1];if(h*h+l*l<t*t)return[o];var f=n([],s,a,.5),_=n([],o,a,.5),c=n([],s,u,.5),p=n([],o,u,.5),d=.5*(1-r)+e(268435456)/268435456*r,v=n([],a,u,d),g=i(s,v,f,c),m=i(v,o,_,p);return g.concat(m)}},r.assign_s_segments=function(t,e,n,i){var s=n.amplitude,o=n.length;t.length=e.numSides;for(var a=0;a<e.numSides;a++){var u=e.s_inner_t(a),h=e.s_outer_t(a),l=e.s_begin_r(a),f=e.s_end_r(a);if(l<f){e.s_ghost(a)?t[a]=[e.t_pos([],h)]:t[a]=r.recursiveSubdivision(o,s,i)(e.t_pos([],u),e.t_pos([],h),e.r_pos([],l),e.r_pos([],f));var _=t[a].slice(0,-1);_.reverse(),_.push(e.t_pos([],u)),t[e.s_opposite_s(a)]=_}}return t}},function(t,r,e){"use strict";var n=e(0);r.assign_r_coast=function(t,r,e){t.length=r.numRegions,t.fill(!1);for(var n=[],i=0;i<r.numRegions;i++)if(r.r_circulate_r(n,i),!e[i]){var s=!0,o=!1,a=void 0;try{for(var u,h=n[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){if(e[u.value]){t[i]=!0;break}}}catch(t){o=!0,a=t}finally{try{!s&&h.return&&h.return()}finally{if(o)throw a}}}return t},r.assign_r_temperature=function(t,r,e,i,s,o,a,u){t.length=r.numRegions;for(var h=0;h<r.numRegions;h++){var l=r.r_y(h)/1e3,f=n.mix(a,u,l);t[h]=1-s[h]+f}return t},r.assign_r_biome=function(t,r,e,n,i,s,o){t.length=r.numRegions;for(var a=0;a<r.numRegions;a++)t[a]=(u=e[a],h=n[a],l=i[a],f=s[a],_=o[a],u?"OCEAN":h?f>.9?"MARSH":f<.2?"ICE":"LAKE":l?"BEACH":f<.2?_>.5?"SNOW":_>.33?"TUNDRA":_>.16?"BARE":"SCORCHED":f<.4?_>.66?"TAIGA":_>.33?"SHRUBLAND":"TEMPERATE_DESERT":f<.7?_>.83?"TEMPERATE_RAIN_FOREST":_>.5?"TEMPERATE_DECIDUOUS_FOREST":_>.16?"GRASSLAND":"TEMPERATE_DESERT":_>.66?"TROPICAL_RAIN_FOREST":_>.33?"TROPICAL_SEASONAL_FOREST":_>.16?"GRASSLAND":"SUBTROPICAL_DESERT");var u,h,l,f,_;return t}},function(t,r,e){"use strict";r.find_riverbanks_r=function(t,r,e){for(var n=0;n<r.numSolidSides;n++)e[n]>0&&(t.add(r.s_begin_r(n)),t.add(r.s_end_r(n)))},r.find_lakeshores_r=function(t,r,e,n){for(var i=0;i<r.numSolidSides;i++){var s=r.s_begin_r(i),o=r.s_end_r(i);n[s]&&!e[s]&&(t.add(s),t.add(o))}},r.find_moisture_seeds_r=function(t,e,n,i){var s=new Set;return r.find_riverbanks_r(s,t,e),r.find_lakeshores_r(s,t,n,i),s},r.assign_r_moisture=function(t,r,e,n,i){r.length=e.numRegions,t.length=e.numRegions,r.fill(null);var s=[],o=Array.from(i),a=1;for(o.forEach(function(t){r[t]=0});o.length>0;){var u=o.shift();e.r_circulate_r(s,u);var h=!0,l=!1,f=void 0;try{for(var _,c=s[Symbol.iterator]();!(h=(_=c.next()).done);h=!0){var p=_.value;if(!n[p]&&null===r[p]){var d=1+r[u];r[p]=d,d>a&&(a=d),o.push(p)}}}catch(t){l=!0,f=t}finally{try{!h&&c.return&&c.return()}finally{if(l)throw f}}}r.forEach(function(r,e){t[e]=n[e]?1:1-Math.pow(r/a,.5)})},r.redistribute_r_moisture=function(t,r,e,n,i){for(var s=[],o=0;o<r.numSolidRegions;o++)e[o]||s.push(o);s.sort(function(r,e){return t[r]-t[e]});for(var a=0;a<s.length;a++)t[s[a]]=n+(i-n)*a/(s.length-1)}},function(t,r,e){"use strict";r.find_spring_t=function(t,r,e,n){for(var i=function(e){return r[t.s_begin_r(3*e)]||r[t.s_begin_r(3*e+1)]||r[t.s_begin_r(3*e+2)]},s=new Set,o=0;o<t.numSolidTriangles;o++)e[o]>=.3&&e[o]<=.9&&!i(o)&&s.add(o);return Array.from(s)},r.assign_s_flow=function(t,r,e,n){t.length=r.numSides,t.fill(0);var i=!0,s=!1,o=void 0;try{for(var a,u=n[Symbol.iterator]();!(i=(a=u.next()).done);i=!0)for(var h=a.value;;){var l=e[h];if(-1===l)break;t[l]++;var f=r.s_outer_t(l);if(f===h)break;h=f}}catch(t){s=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(s)throw o}}return t}},function(t,r,e){"use strict";r.assign_t_elevation=function(t,r,e,n,i,s,o){r.length=n.numTriangles,e.length=n.numTriangles,t.length=n.numTriangles,r.fill(null),e.fill(-1);var a=function(t){return i[n.s_begin_r(3*t)]},u=function(t){return s[t]&&!i[t]},h=function(t){return u(n.s_begin_r(t))||u(n.s_end_r(t))},l=[],f=function(t,r){for(var e=[],n=0;n<t.numSides;n++){var i=t.s_begin_r(n),s=t.s_end_r(n),o=t.s_inner_t(n);r[i]&&!r[s]&&e.push(o)}return e}(n,i);f.forEach(function(t){r[t]=0});for(var _=1,c=1;f.length>0;){var p=f.shift();n.t_circulate_s(l,p);for(var d=o(l.length),v=0;v<l.length;v++){var g=l[(v+d)%l.length],m=h(g),y=n.s_outer_t(g),b=(m?0:1)+r[p];(null===r[y]||b<r[y])&&(e[y]=n.s_opposite_s(g),r[y]=b,a(y)&&b>_&&(_=b),!a(y)&&b>c&&(c=b),m?f.unshift(y):f.push(y))}}r.forEach(function(r,e){t[e]=a(e)?-r/_:r/c})},r.assign_r_elevation=function(t,r,e,n){t.length=r.numRegions;for(var i=[],s=0;s<r.numRegions;s++){r.r_circulate_t(i,s);var o=0,a=!0,u=!1,h=void 0;try{for(var l,f=i[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){o+=e[l.value]}}catch(t){u=!0,h=t}finally{try{!a&&f.return&&f.return()}finally{if(u)throw h}}t[s]=o/i.length,n[s]&&t[s]>-.01&&(t[s]=-.01)}return t},r.redistribute_t_elevation=function(t,r){for(var e=[],n=0;n<r.numSolidTriangles;n++)t[n]>0&&e.push(n);e.sort(function(r,e){return t[r]-t[e]});for(var i=0;i<e.length;i++){var s=i/(e.length-1),o=Math.sqrt(1.1)-Math.sqrt(1.1*(1-s));o>1&&(o=1),t[e[i]]=o}}},function(t,r,e){"use strict";var n=e(0);r.assign_r_water=function(t,r,e,i){t.length=r.numRegions;for(var s=0;s<r.numRegions;s++)if(r.r_ghost(s)||r.r_boundary(s))t[s]=!0;else{var o=(r.r_x(s)-500)/500,a=(r.r_y(s)-500)/500,u=Math.max(Math.abs(o),Math.abs(a)),h=n.fbm_noise(e,i.amplitudes,o,a);h=n.mix(h,.5,i.round),t[s]=h-(1-i.inflate)*u*u<0}return t},r.assign_r_ocean=function(t,r,e){t.length=r.numRegions,t.fill(!1);for(var n=[r.ghost_r()],i=[];n.length>0;){var s=n.pop();r.r_circulate_r(i,s);var o=!0,a=!1,u=void 0;try{for(var h,l=i[Symbol.iterator]();!(o=(h=l.next()).done);o=!0){var f=h.value;e[f]&&!t[f]&&(t[f]=!0,n.push(f))}}catch(t){a=!0,u=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw u}}}return t}},function(t,r,e){"use strict";var n=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}();var i=e(0),s=e(17),o=e(16),a=e(15),u=e(14),h=e(13),l=e(12),f=e(11),_=e(10),c=e(1),p={seed:10,persistence:0,size:"medium",numRivers:30,drainageSeed:0,riverSeed:0,noisyEdge:{length:10,amplitude:.2},biomeBias:{moisture:0,north_temperature:0,south_temperature:0}},d=function(){function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign(p,r);this.mesh=new f(_({spacing:{tiny:38,small:26,medium:18,large:12.8,huge:9}[this.options.size],random:i.makeRandFloat(this.options.seed)})),this.s_lines=l.assign_s_segments([],this.mesh,this.options.noisyEdge,i.makeRandInt(this.options.seed)),this.r_water=[],this.r_ocean=[],this.t_coastdistance=[],this.t_elevation=[],this.t_downslope_s=[],this.r_elevation=[],this.s_flow=[],this.r_waterdistance=[],this.r_moisture=[],this.r_coast=[],this.r_temperature=[],this.r_biome=[]}return n(t,[{key:"generate",value:function(t){var r=t?Object.assign(this.options,t):this.options,e=new c(i.makeRandFloat(this.options.seed)),n=Object.assign({round:.5,inflate:.4,amplitudes:Array.from({length:5},function(t,e){return Math.pow(Math.pow(.5,1+r.persistence),e)})});s.assign_r_water(this.r_water,this.mesh,e,n),s.assign_r_ocean(this.r_ocean,this.mesh,this.r_water),o.assign_t_elevation(this.t_elevation,this.t_coastdistance,this.t_downslope_s,this.mesh,this.r_ocean,this.r_water,i.makeRandInt(r.drainageSeed)),o.redistribute_t_elevation(this.t_elevation,this.mesh),o.assign_r_elevation(this.r_elevation,this.mesh,this.t_elevation,this.r_ocean),this.spring_t=a.find_spring_t(this.mesh,this.r_water,this.t_elevation,this.t_downslope_s),i.randomShuffle(this.spring_t,i.makeRandInt(r.riverSeed)),this.river_t=this.spring_t.slice(0,r.numRivers),a.assign_s_flow(this.s_flow,this.mesh,this.t_downslope_s,this.river_t,this.t_elevation),u.assign_r_moisture(this.r_moisture,this.r_waterdistance,this.mesh,this.r_water,u.find_moisture_seeds_r(this.mesh,this.s_flow,this.r_ocean,this.r_water)),u.redistribute_r_moisture(this.r_moisture,this.mesh,this.r_water,r.biomeBias.moisture,1+r.biomeBias.moisture),h.assign_r_coast(this.r_coast,this.mesh,this.r_ocean),h.assign_r_temperature(this.r_temperature,this.mesh,this.r_ocean,this.r_water,this.r_elevation,this.r_moisture,r.biomeBias.north_temperature,r.biomeBias.south_temperature),h.assign_r_biome(this.r_biome,this.mesh,this.r_ocean,this.r_water,this.r_coast,this.r_temperature,this.r_moisture)}}]),t}();t.exports=d}]);